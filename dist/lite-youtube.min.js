const style=document.head.appendChild(document.createElement("style"));style.textContent='\n\n    lite-youtube {\n        background-color: #000;\n        position: relative;\n        display: block;\n        contain: content;\n        background-position: center center;\n        background-size: cover;\n        cursor: pointer;\n        max-width: 720px;\n    }\n\n    /* gradient */\n    lite-youtube::before {\n        content: attr(data-title);\n        display: block;\n        position: absolute;\n        top: 0;\n        /* Pixel-perfect port of YT\'s gradient PNG, using https://github.com/bluesmoon/pngtocss plus optimizations */\n        background-image: linear-gradient(180deg, rgb(0 0 0 / 67%) 0%, rgb(0 0 0 / 54%) 14%, rgb(0 0 0 / 15%) 54%, rgb(0 0 0 / 5%) 72%, rgb(0 0 0 / 0%) 94%);\n        height: 99px;\n        width: 100%;\n        font-family: "YouTube Noto",Roboto,Arial,Helvetica,sans-serif;\n        color: hsl(0deg 0% 93.33%);\n        text-shadow: 0 0 2px rgba(0,0,0,.5);\n        font-size: 18px;\n        padding: 25px 20px;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        box-sizing: border-box;\n    }\n\n    lite-youtube:hover::before {\n        color: white;\n    }\n\n    /* responsive iframe with a 16:9 aspect ratio\n        thanks https://css-tricks.com/responsive-iframes/\n    */\n    lite-youtube::after {\n        content: "";\n        display: block;\n        padding-bottom: calc(100% / (16 / 9));\n    }\n    lite-youtube > iframe {\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        top: 0;\n        left: 0;\n        border: 0;\n    }\n\n    /* play button */\n    lite-youtube > .lyt-playbtn {\n        display: block;\n        /* Make the button element cover the whole area for a large hover/click target… */\n        width: 100%;\n        height: 100%;\n        /* …but visually it\'s still the same size */\n        background: no-repeat center/68px 48px;\n        /* YT\'s actual play button svg */\n        background-image: url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 68 48"><path d="M66.52 7.74c-.78-2.93-2.49-5.41-5.42-6.19C55.79.13 34 0 34 0S12.21.13 6.9 1.55c-2.93.78-4.63 3.26-5.42 6.19C.06 13.05 0 24 0 24s.06 10.95 1.48 16.26c.78 2.93 2.49 5.41 5.42 6.19C12.21 47.87 34 48 34 48s21.79-.13 27.1-1.55c2.93-.78 4.64-3.26 5.42-6.19C67.94 34.95 68 24 68 24s-.06-10.95-1.48-16.26z" fill="red"/><path d="M45 24 27 14v20" fill="white"/></svg>\');\n        position: absolute;\n        cursor: pointer;\n        z-index: 1;\n        filter: grayscale(100%);\n        transition: filter .1s cubic-bezier(0, 0, 0.2, 1);\n        border: 0;\n    }\n\n    lite-youtube:hover > .lyt-playbtn,\n    lite-youtube .lyt-playbtn:focus {\n        filter: none;\n    }\n\n    /* Post-click styles */\n    lite-youtube.lyt-activated {\n        cursor: unset;\n    }\n    lite-youtube.lyt-activated::before,\n    lite-youtube.lyt-activated > .lyt-playbtn {\n        opacity: 0;\n        pointer-events: none;\n    }\n\n    .lyt-visually-hidden {\n        clip: rect(0 0 0 0);\n        clip-path: inset(50%);\n        height: 1px;\n        overflow: hidden;\n        position: absolute;\n        white-space: nowrap;\n        width: 1px;\n    }\n';class LiteYTEmbed extends HTMLElement{connectedCallback(){this.videoId=this.getAttribute("videoid");let e=this.querySelector(".lyt-playbtn,.lty-playbtn");if(this.playLabel=e&&e.textContent.trim()||this.getAttribute("playlabel")||"Play",this.dataset.title=this.getAttribute("title")||"",this.style.backgroundImage||(this.style.backgroundImage=`url("https://i.ytimg.com/vi/${this.videoId}/hqdefault.jpg")`,this.upgradePosterImage()),e||(e=document.createElement("button"),e.type="button",e.classList.add("lyt-playbtn","lty-playbtn"),this.append(e)),!e.textContent){const t=document.createElement("span");t.className="lyt-visually-hidden",t.textContent=this.playLabel,e.append(t)}this.addNoscriptIframe(),"A"===e.nodeName&&(e.removeAttribute("href"),e.setAttribute("tabindex","0"),e.setAttribute("role","button"),e.addEventListener("keydown",(e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.activate())}))),this.addEventListener("pointerover",LiteYTEmbed.warmConnections,{once:!0}),this.addEventListener("focusin",LiteYTEmbed.warmConnections,{once:!0}),this.addEventListener("click",this.activate),this.needsYTApi=this.hasAttribute("js-api")||navigator.vendor.includes("Apple")||navigator.userAgent.includes("Mobi")}static addPrefetch(e,t,n){const i=document.createElement("link");i.rel=e,i.href=t,n&&(i.as=n),document.head.append(i)}static warmConnections(){LiteYTEmbed.preconnected||(LiteYTEmbed.addPrefetch("preconnect","https://www.youtube-nocookie.com"),LiteYTEmbed.addPrefetch("preconnect","https://www.google.com"),LiteYTEmbed.addPrefetch("preconnect","https://googleads.g.doubleclick.net"),LiteYTEmbed.addPrefetch("preconnect","https://static.doubleclick.net"),LiteYTEmbed.preconnected=!0)}fetchYTPlayerApi(){window.YT||window.YT&&window.YT.Player||(this.ytApiPromise=new Promise(((e,t)=>{var n=document.createElement("script");n.src="https://www.youtube.com/iframe_api",n.async=!0,n.onload=t=>{YT.ready(e)},n.onerror=t,this.append(n)})))}async getYTPlayer(){return this.playerPromise||await this.activate(),this.playerPromise}async addYTPlayerIframe(){this.fetchYTPlayerApi(),await this.ytApiPromise;const e=document.createElement("div");this.append(e);const t=Object.fromEntries(this.getParams().entries());this.playerPromise=new Promise((n=>{let i=new YT.Player(e,{width:"100%",videoId:this.videoId,playerVars:t,events:{onReady:e=>{e.target.playVideo(),n(i)}}})}))}addNoscriptIframe(){const e=this.createBasicIframe(),t=document.createElement("noscript");t.innerHTML=e.outerHTML,this.append(t)}getParams(){const e=new URLSearchParams(this.getAttribute("params")||[]);return e.append("autoplay","1"),e.append("playsinline","1"),e}async activate(){if(this.classList.contains("lyt-activated"))return;if(this.classList.add("lyt-activated"),this.needsYTApi)return this.addYTPlayerIframe(this.getParams());const e=this.createBasicIframe();this.append(e),e.focus()}createBasicIframe(){const e=document.createElement("iframe");return e.width=560,e.height=315,e.title=this.playLabel,e.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",e.allowFullscreen=!0,e.src=`https://www.youtube-nocookie.com/embed/${encodeURIComponent(this.videoId)}?${this.getParams().toString()}`,e}upgradePosterImage(){setTimeout((()=>{const e=`https://i.ytimg.com/vi_webp/${this.videoId}/sddefault.webp`,t=new Image;t.fetchPriority="low",t.referrerpolicy="origin",t.src=e,t.onload=t=>{90==t.target.naturalHeight&&120==t.target.naturalWidth||(this.style.backgroundImage=`url("${e}")`)}}),100)}}customElements.define("lite-youtube",LiteYTEmbed);
